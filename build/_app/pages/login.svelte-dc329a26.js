import{S as a,i as s,s as t,e as r,t as e,k as o,c,a as n,g as i,d as u,n as l,b as p,f as d,E as h,I as f,F as m,R as b,G as v,H as y,P as E}from"../chunks/vendor-a95f158c.js";import{u as g}from"../chunks/stores-30180c6b.js";import{g as w}from"../chunks/navigation-20968cc5.js";import"../chunks/singletons-bb9012b7.js";function k(a){let s,t,v,y,E,g,w,k,P,T,L,U,j,I,N,O,S,B,F,x,q,A,D;return{c(){s=r("h1"),t=e("User Login"),v=o(),y=r("div"),E=r("form"),g=r("label"),w=e("Email*:"),k=o(),P=r("input"),T=o(),L=r("label"),U=e("Password*:"),j=o(),I=r("input"),N=o(),O=r("div"),S=r("button"),B=e("Submit"),F=o(),x=r("button"),q=e("Forget Password"),this.h()},l(a){s=c(a,"H1",{class:!0});var r=n(s);t=i(r,"User Login"),r.forEach(u),v=l(a),y=c(a,"DIV",{class:!0});var e=n(y);E=c(e,"FORM",{action:!0});var o=n(E);g=c(o,"LABEL",{for:!0});var p=n(g);w=i(p,"Email*:"),p.forEach(u),k=l(o),P=c(o,"INPUT",{type:!0,name:!0,id:!0}),T=l(o),L=c(o,"LABEL",{for:!0});var d=n(L);U=i(d,"Password*:"),d.forEach(u),j=l(o),I=c(o,"INPUT",{type:!0,name:!0,id:!0}),N=l(o),O=c(o,"DIV",{class:!0});var h=n(O);S=c(h,"BUTTON",{type:!0});var f=n(S);B=i(f,"Submit"),f.forEach(u),F=l(h),x=c(h,"BUTTON",{type:!0});var m=n(x);q=i(m,"Forget Password"),m.forEach(u),h.forEach(u),o.forEach(u),e.forEach(u),this.h()},h(){p(s,"class","svelte-1rptoyp"),p(g,"for","email"),p(P,"type","text"),p(P,"name","email"),p(P,"id","email"),P.required=!0,p(L,"for","password"),p(I,"type","password"),p(I,"name","password"),p(I,"id","password"),I.required=!0,p(S,"type","button"),p(x,"type","button"),p(O,"class","buttons"),p(E,"action",""),p(y,"class","form-wrapper")},m(r,e){d(r,s,e),h(s,t),d(r,v,e),d(r,y,e),h(y,E),h(E,g),h(g,w),h(E,k),h(E,P),a[3](P),h(E,T),h(E,L),h(L,U),h(E,j),h(E,I),a[4](I),h(E,N),h(E,O),h(O,S),h(S,B),h(O,F),h(O,x),h(x,q),A||(D=[f(S,"click",a[2]),f(x,"click",a[2])],A=!0)},p:m,i:m,o:m,d(t){t&&u(s),t&&u(v),t&&u(y),a[3](null),a[4](null),A=!1,b(D)}}}function P(a,s,t){let r,e,o;v(a,g,(a=>t(5,r=a)));return[e,o,async()=>{await fetch("/api/login",{method:"POST",body:JSON.stringify({email:e.value,password:o.value})}).catch((a=>a)).then((a=>a.json())).then((a=>{switch(console.log(a.data[0]),y(g,r.secret=a.data[0].secret,r),y(g,r.type=a.data[1],r),y(g,r.email=a.data[2],r),a.data[1]){case"":break;case"user":w("/");break;case"manager":w("/backstore/products")}return a}))},function(a){E[a?"unshift":"push"]((()=>{e=a,t(0,e)}))},function(a){E[a?"unshift":"push"]((()=>{o=a,t(1,o)}))}]}export default class extends a{constructor(a){super(),s(this,a,P,k,t,{})}}
