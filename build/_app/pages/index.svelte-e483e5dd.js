import{S as e,i as s,s as t,j as a,m as r,o as c,F as l,x as i,u as p,v as o,e as u,k as m,t as g,c as n,a as h,n as d,d as f,g as v,b,M as E,f as w,E as x,N as y,w as j,r as C}from"../chunks/vendor-a95f158c.js";import{P as R}from"../chunks/productcard-6ce882ae.js";function I(e,s,t){const a=e.slice();return a[3]=s[t],a}function U(e,s,t){const a=e.slice();return a[6]=s[t],a}function S(e,s,t){const a=e.slice();return a[6]=s[t],a}function k(e){let s,t;return s=new R({props:{product:e[6]}}),{c(){a(s.$$.fragment)},l(e){r(s.$$.fragment,e)},m(e,a){c(s,e,a),t=!0},p:l,i(e){t||(i(s.$$.fragment,e),t=!0)},o(e){p(s.$$.fragment,e),t=!1},d(e){o(s,e)}}}function D(e){let s,t,a,r,c,i,p,o,y,j,C,R,I,U,S,k,D,O=e[6].name+"";return{c(){s=u("div"),t=u("div"),a=u("picture"),r=u("source"),c=m(),i=u("source"),p=m(),o=u("source"),y=m(),j=u("source"),C=m(),R=u("img"),U=m(),S=u("a"),k=g(O),this.h()},l(e){s=n(e,"DIV",{class:!0});var l=h(s);t=n(l,"DIV",{class:!0});var u=h(t);a=n(u,"PICTURE",{});var m=h(a);r=n(m,"SOURCE",{srcset:!0,media:!0,type:!0}),c=d(m),i=n(m,"SOURCE",{srcset:!0,media:!0,type:!0}),p=d(m),o=n(m,"SOURCE",{srcset:!0,type:!0}),y=d(m),j=n(m,"SOURCE",{srcset:!0,type:!0}),C=d(m),R=n(m,"IMG",{src:!0,alt:!0,class:!0}),m.forEach(f),u.forEach(f),U=d(l),S=n(l,"A",{"sveltekit:prefetch":!0,href:!0,class:!0});var g=h(S);k=v(g,O),g.forEach(f),l.forEach(f),this.h()},h(){b(r,"srcset","/"+e[6].image+"-120.webp, /"+e[6].image+"-240.webp 2x"),b(r,"media","(max-width:800px)"),b(r,"type","image/webp"),b(i,"srcset","/"+e[6].image+"-120.jpg, /"+e[6].image+"-240.jpg 2x"),b(i,"media","(max-width:800px)"),b(i,"type","image/jpeg"),b(o,"srcset","/"+e[6].image+"-240.webp, /"+e[6].image+"-400.webp 2x"),b(o,"type","image/webp"),b(j,"srcset","/"+e[6].image+"-240.jpg, /"+e[6].image+"-400.jpg 2x"),b(j,"type","image/jpeg"),E(R.src,I="/"+e[6].image+"-240.jpg")||b(R,"src",I),b(R,"alt","hi:)"),b(R,"class","bg-image svelte-64tu2b"),b(t,"class","img-container svelte-64tu2b"),b(S,"sveltekit:prefetch",""),b(S,"href",D="/products/"+e[6].name),b(S,"class","svelte-64tu2b"),b(s,"class","product-box svelte-64tu2b")},m(e,l){w(e,s,l),x(s,t),x(t,a),x(a,r),x(a,c),x(a,i),x(a,p),x(a,o),x(a,y),x(a,j),x(a,C),x(a,R),x(s,U),x(s,S),x(S,k)},p:l,d(e){e&&f(s)}}}function O(e){let s,t,a,r,c,l,i,p,o,j,C,R,I,S,k,O,V,$,M,A,L,G,H,P,F,B,T,W,N,q,z,J,K,Q,X,Y,Z,_,ee,se,te=e[3].name+"",ae=e[3].products,re=[];for(let u=0;u<ae.length;u+=1)re[u]=D(U(e,ae,u));return{c(){s=u("div"),t=u("div"),a=u("picture"),r=u("source"),l=m(),i=u("source"),o=m(),j=u("source"),R=m(),I=u("source"),k=m(),O=u("source"),$=m(),M=u("source"),L=m(),G=u("source"),P=m(),F=u("source"),T=m(),W=u("img"),q=m(),z=u("p"),J=g(te),K=m(),Q=u("div");for(let e=0;e<re.length;e+=1)re[e].c();X=m(),Y=u("div"),Z=u("a"),_=g("More"),se=m(),this.h()},l(e){s=n(e,"DIV",{class:!0});var c=h(s);t=n(c,"DIV",{class:!0});var p=h(t);a=n(p,"PICTURE",{});var u=h(a);r=n(u,"SOURCE",{srcset:!0,media:!0,type:!0}),l=d(u),i=n(u,"SOURCE",{srcset:!0,media:!0,type:!0}),o=d(u),j=n(u,"SOURCE",{srcset:!0,media:!0,type:!0}),R=d(u),I=n(u,"SOURCE",{srcset:!0,media:!0,type:!0}),k=d(u),O=n(u,"SOURCE",{srcset:!0,media:!0,type:!0}),$=d(u),M=n(u,"SOURCE",{srcset:!0,media:!0,type:!0}),L=d(u),G=n(u,"SOURCE",{srcset:!0,type:!0}),P=d(u),F=n(u,"SOURCE",{srcset:!0,type:!0}),T=d(u),W=n(u,"IMG",{src:!0,alt:!0,class:!0}),u.forEach(f),p.forEach(f),q=d(c),z=n(c,"P",{class:!0});var m=h(z);J=v(m,te),m.forEach(f),K=d(c),Q=n(c,"DIV",{class:!0});var g=h(Q);for(let s=0;s<re.length;s+=1)re[s].l(g);X=d(g),Y=n(g,"DIV",{class:!0});var b=h(Y);Z=n(b,"A",{"sveltekit:prefetch":!0,href:!0,class:!0});var E=h(Z);_=v(E,"More"),E.forEach(f),b.forEach(f),g.forEach(f),se=d(c),c.forEach(f),this.h()},h(){b(r,"srcset",c="/"+e[3].products[0].image+"-400.webp, /"+e[3].products[0].image+"-800.webp 2x"),b(r,"media","(max-width:400px)"),b(r,"type","image/webp"),b(i,"srcset",p="/"+e[3].products[0].image+"-400.jpg, /"+e[3].products[0].image+"-800.jpg 2x"),b(i,"media","(max-width:400px)"),b(i,"type","image/jpeg"),b(j,"srcset",C="/"+e[3].products[0].image+"-600.webp, /"+e[3].products[0].image+"-1200.webp 2x"),b(j,"media","(max-width:600px)"),b(j,"type","image/webp"),b(I,"srcset",S="/"+e[3].products[0].image+"-600.jpg, /"+e[3].products[0].image+"-1200.jpg 2x"),b(I,"media","(max-width:600px)"),b(I,"type","image/jpeg"),b(O,"srcset",V="/"+e[3].products[0].image+"-800.webp"),b(O,"media","(max-width:800px)"),b(O,"type","image/webp"),b(M,"srcset",A="/"+e[3].products[0].image+"-800.jpg"),b(M,"media","(max-width:800px)"),b(M,"type","image/jpeg"),b(G,"srcset",H="/"+e[3].products[0].image+"-1200.webp"),b(G,"type","image/webp"),b(F,"srcset",B="/"+e[3].products[0].image+"-1200.jpg"),b(F,"type","image/jpeg"),E(W.src,N="/"+e[3].products[0].image+"-400.jpg")||b(W,"src",N),b(W,"alt","hi:)"),b(W,"class","bg-image svelte-64tu2b"),b(t,"class","bg svelte-64tu2b"),b(z,"class","aisle-name svelte-64tu2b"),b(Z,"sveltekit:prefetch",""),b(Z,"href",ee="/aisles/"+e[3].name),b(Z,"class","more svelte-64tu2b"),b(Y,"class","clear-box svelte-64tu2b"),b(Q,"class","aisle-products svelte-64tu2b"),b(s,"class","aisle-preview svelte-64tu2b")},m(e,c){w(e,s,c),x(s,t),x(t,a),x(a,r),x(a,l),x(a,i),x(a,o),x(a,j),x(a,R),x(a,I),x(a,k),x(a,O),x(a,$),x(a,M),x(a,L),x(a,G),x(a,P),x(a,F),x(a,T),x(a,W),x(s,q),x(s,z),x(z,J),x(s,K),x(s,Q);for(let s=0;s<re.length;s+=1)re[s].m(Q,null);x(Q,X),x(Q,Y),x(Y,Z),x(Z,_),x(s,se)},p(e,s){if(1&s){let t;for(ae=e[3].products,t=0;t<ae.length;t+=1){const a=U(e,ae,t);re[t]?re[t].p(a,s):(re[t]=D(a),re[t].c(),re[t].m(Q,X))}for(;t<re.length;t+=1)re[t].d(1);re.length=ae.length}},d(e){e&&f(s),y(re,e)}}}function V(e){let s,t,a,r,c,l,o,E,R,U,D,V,$,M,A=e[1],L=[];for(let i=0;i<A.length;i+=1)L[i]=k(S(e,A,i));const G=e=>p(L[e],1,1,(()=>{L[e]=null}));let H=e[0],P=[];for(let i=0;i<H.length;i+=1)P[i]=O(I(e,H,i));return{c(){s=u("div"),t=u("div"),a=u("h1"),r=g("Welcome to CGA 🏪"),c=u("br"),l=g("Here are today’s deals:"),o=m(),E=u("div");for(let e=0;e<L.length;e+=1)L[e].c();R=m(),U=u("div"),D=u("h1"),V=g("Aisles"),$=m();for(let e=0;e<P.length;e+=1)P[e].c();this.h()},l(e){s=n(e,"DIV",{class:!0});var i=h(s);t=n(i,"DIV",{class:!0});var p=h(t);a=n(p,"H1",{});var u=h(a);r=v(u,"Welcome to CGA 🏪"),c=n(u,"BR",{}),l=v(u,"Here are today’s deals:"),u.forEach(f),o=d(p),E=n(p,"DIV",{class:!0});var m=h(E);for(let s=0;s<L.length;s+=1)L[s].l(m);m.forEach(f),p.forEach(f),R=d(i),U=n(i,"DIV",{class:!0});var g=h(U);D=n(g,"H1",{});var b=h(D);V=v(b,"Aisles"),b.forEach(f),$=d(g);for(let s=0;s<P.length;s+=1)P[s].l(g);g.forEach(f),i.forEach(f),this.h()},h(){b(E,"class","products"),b(t,"class","banner"),b(U,"class","aisles-wrapper svelte-64tu2b"),b(s,"class","home-wrapper svelte-64tu2b")},m(e,i){w(e,s,i),x(s,t),x(t,a),x(a,r),x(a,c),x(a,l),x(t,o),x(t,E);for(let s=0;s<L.length;s+=1)L[s].m(E,null);x(s,R),x(s,U),x(U,D),x(D,V),x(U,$);for(let s=0;s<P.length;s+=1)P[s].m(U,null);M=!0},p(e,[s]){if(2&s){let t;for(A=e[1],t=0;t<A.length;t+=1){const a=S(e,A,t);L[t]?(L[t].p(a,s),i(L[t],1)):(L[t]=k(a),L[t].c(),i(L[t],1),L[t].m(E,null))}for(C(),t=A.length;t<L.length;t+=1)G(t);j()}if(1&s){let t;for(H=e[0],t=0;t<H.length;t+=1){const a=I(e,H,t);P[t]?P[t].p(a,s):(P[t]=O(a),P[t].c(),P[t].m(U,null))}for(;t<P.length;t+=1)P[t].d(1);P.length=H.length}},i(e){if(!M){for(let e=0;e<A.length;e+=1)i(L[e]);M=!0}},o(e){L=L.filter(Boolean);for(let s=0;s<L.length;s+=1)p(L[s]);M=!1},d(e){e&&f(s),y(L,e),y(P,e)}}}const $=async({fetch:e})=>{const s=await e("/api/productlist").then((e=>e.json())).then((e=>e)),t=await s;let a=[];return t.data.forEach((e=>{a.push(e.data)})),{props:{productList:a}}};function M(e,s,t){let{productList:a}=s,r=[{name:"Fruits",image:"strawberries",products:[]},{name:"Vegetables",image:"cucumber",products:[]},{name:"Meats",image:"steak",products:[]},{name:"Dairy",image:"milk",products:[]}];a.forEach((e=>{switch(e.aisle){case"Fruits":3!=r[0].products.length&&r[0].products.push(e);break;case"Vegetables":3!=r[1].products.length&&r[1].products.push(e);break;case"Meats":3!=r[2].products.length&&r[2].products.push(e);break;case"Dairy":3!=r[3].products.length&&r[3].products.push(e)}}));let c=a.slice(0,3);return e.$$set=e=>{"productList"in e&&t(2,a=e.productList)},[r,c,a]}export default class extends e{constructor(e){super(),s(this,e,M,V,t,{productList:2})}}export{$ as load};
