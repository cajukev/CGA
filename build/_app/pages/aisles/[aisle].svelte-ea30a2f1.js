import{S as s,i as t,s as a,j as e,m as r,o as l,F as c,x as o,u as n,v as i,e as h,t as p,k as f,c as u,a as d,g,d as m,n as $,b as v,f as E,E as w,h as x,w as L,N as j,r as A}from"../../chunks/vendor-a95f158c.js";import{P as k}from"../../chunks/productcard-6ce882ae.js";function D(s,t,a){const e=s.slice();return e[3]=t[a],e}function I(s){let t,a;return t=new k({props:{product:s[3]}}),{c(){e(t.$$.fragment)},l(s){r(t.$$.fragment,s)},m(s,e){l(t,s,e),a=!0},p:c,i(s){a||(o(t.$$.fragment,s),a=!0)},o(s){n(t.$$.fragment,s),a=!1},d(s){i(t,s)}}}function V(s){let t,a,e,r,l,c,i,k,V=s[0].charAt(0).toUpperCase()+s[0].slice(1)+"",C=s[1],U=[];for(let o=0;o<C.length;o+=1)U[o]=I(D(s,C,o));const b=s=>n(U[s],1,1,(()=>{U[s]=null}));return{c(){t=h("div"),a=h("div"),e=h("h1"),r=p(V),l=p(" Aisle"),c=f(),i=h("div");for(let s=0;s<U.length;s+=1)U[s].c();this.h()},l(s){t=u(s,"DIV",{class:!0});var o=d(t);a=u(o,"DIV",{class:!0});var n=d(a);e=u(n,"H1",{});var h=d(e);r=g(h,V),l=g(h," Aisle"),h.forEach(m),c=$(n),i=u(n,"DIV",{class:!0});var p=d(i);for(let t=0;t<U.length;t+=1)U[t].l(p);p.forEach(m),n.forEach(m),o.forEach(m),this.h()},h(){v(i,"class","products"),v(a,"class","aisle"),v(t,"class","aisle-wrapper")},m(s,o){E(s,t,o),w(t,a),w(a,e),w(e,r),w(e,l),w(a,c),w(a,i);for(let t=0;t<U.length;t+=1)U[t].m(i,null);k=!0},p(s,[t]){if((!k||1&t)&&V!==(V=s[0].charAt(0).toUpperCase()+s[0].slice(1)+"")&&x(r,V),2&t){let a;for(C=s[1],a=0;a<C.length;a+=1){const e=D(s,C,a);U[a]?(U[a].p(e,t),o(U[a],1)):(U[a]=I(e),U[a].c(),o(U[a],1),U[a].m(i,null))}for(A(),a=C.length;a<U.length;a+=1)b(a);L()}},i(s){if(!k){for(let s=0;s<C.length;s+=1)o(U[s]);k=!0}},o(s){U=U.filter(Boolean);for(let t=0;t<U.length;t+=1)n(U[t]);k=!1},d(s){s&&m(t),j(U,s)}}}async function C({page:s,fetch:t,session:a,context:e}){const r=s.path.split("/")[2],l=await t("/api/productlist").then((s=>s.json())).then((s=>s)),c=await l;let o=[];return c.data.forEach((s=>{o.push(s.data)})),{props:{productList:o,aisle:r}}}function U(s,t,a){let{aisle:e}=t,{productList:r}=t,l=[];return r.forEach((s=>{e.slice(1)===s.aisle.slice(1)&&l.push(s)})),s.$$set=s=>{"aisle"in s&&a(0,e=s.aisle),"productList"in s&&a(2,r=s.productList)},[e,l,r]}export default class extends s{constructor(s){super(),t(this,s,U,V,a,{aisle:0,productList:2})}}export{C as load};
