import{S as s,i as a,s as r,e,t as o,k as t,c as n,a as i,g as l,d as c,n as p,b as u,f as d,E as f,I as h,F as m,P as v}from"../chunks/vendor-a95f158c.js";import{g as w}from"../chunks/navigation-20968cc5.js";import"../chunks/singletons-bb9012b7.js";function E(s){let a,r,v,w,E,y,b,g,U,P,S,I,L,T,k,A,N,j,q,B,O,x,z,C,D;return{c(){a=e("h1"),r=o("User Sign Up"),v=t(),w=e("div"),E=e("form"),y=e("label"),b=o("Email*:"),g=t(),U=e("input"),P=t(),S=e("label"),I=o("Password*:"),L=t(),T=e("input"),k=t(),A=e("label"),N=o("Confirm Password*:"),j=t(),q=e("input"),B=t(),O=e("div"),x=e("button"),z=o("Sign Up"),this.h()},l(s){a=n(s,"H1",{class:!0});var e=i(a);r=l(e,"User Sign Up"),e.forEach(c),v=p(s),w=n(s,"DIV",{class:!0});var o=i(w);E=n(o,"FORM",{action:!0});var t=i(E);y=n(t,"LABEL",{for:!0});var u=i(y);b=l(u,"Email*:"),u.forEach(c),g=p(t),U=n(t,"INPUT",{type:!0,name:!0,id:!0}),P=p(t),S=n(t,"LABEL",{for:!0});var d=i(S);I=l(d,"Password*:"),d.forEach(c),L=p(t),T=n(t,"INPUT",{type:!0,name:!0,id:!0}),k=p(t),A=n(t,"LABEL",{for:!0});var f=i(A);N=l(f,"Confirm Password*:"),f.forEach(c),j=p(t),q=n(t,"INPUT",{type:!0,name:!0,id:!0}),B=p(t),O=n(t,"DIV",{class:!0});var h=i(O);x=n(h,"BUTTON",{type:!0});var m=i(x);z=l(m,"Sign Up"),m.forEach(c),h.forEach(c),t.forEach(c),o.forEach(c),this.h()},h(){u(a,"class","svelte-1ysqtrz"),u(y,"for","email"),u(U,"type","text"),u(U,"name","email"),u(U,"id","email"),U.required=!0,u(S,"for","password"),u(T,"type","password"),u(T,"name","password"),u(T,"id","password"),T.required=!0,u(A,"for","password2"),u(q,"type","password"),u(q,"name","password2"),u(q,"id","password2 required"),u(x,"type","button"),u(O,"class","buttons"),u(E,"action",""),u(w,"class","form-wrapper")},m(e,o){d(e,a,o),f(a,r),d(e,v,o),d(e,w,o),f(w,E),f(E,y),f(y,b),f(E,g),f(E,U),s[4](U),f(E,P),f(E,S),f(S,I),f(E,L),f(E,T),s[5](T),f(E,k),f(E,A),f(A,N),f(E,j),f(E,q),s[6](q),f(E,B),f(E,O),f(O,x),f(x,z),C||(D=h(x,"click",s[3]),C=!0)},p:m,i:m,o:m,d(r){r&&c(a),r&&c(v),r&&c(w),s[4](null),s[5](null),s[6](null),C=!1,D()}}}function y(s,a,r){let e,o,t;return[e,o,t,async()=>{if(o.value==t.value&&/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value)){let s="admin";await fetch("/api/newUser",{method:"POST",body:JSON.stringify({secret:s,email:e.value,password:o.value})}).catch((s=>s)).then((s=>s.json())).then((s=>(console.log(s),null!=s&&w("/login"),s)))}else alert("Email is invalid or passwords do not match")},function(s){v[s?"unshift":"push"]((()=>{e=s,r(0,e)}))},function(s){v[s?"unshift":"push"]((()=>{o=s,r(1,o)}))},function(s){v[s?"unshift":"push"]((()=>{t=s,r(2,t)}))}]}export default class extends s{constructor(s){super(),a(this,s,y,E,r,{})}}
