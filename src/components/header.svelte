<script>
	import { cart } from '../stores'
	let totalQuantity
	$: {
		totalQuantity = 0;
		Object.values($cart).map((item) => {
			totalQuantity = totalQuantity + item.amount;
		});
	}
</script>

<div class="header-wrapper">
	<div class="header">
		<a href="/">
			<svg class="logo" viewBox="0 0 87 59" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path
					d="M43.2363 57.815C54.9844 57.815 65.643 54.6413 73.3792 49.4839C81.1118 44.3288 85.9726 37.1522 85.9726 29.1575C85.9726 21.1628 81.1118 13.9862 73.3792 8.83112C65.643 3.67369 54.9844 0.5 43.2363 0.5C31.4881 0.5 20.8295 3.67369 13.0934 8.83112C5.36071 13.9862 0.5 21.1628 0.5 29.1575C0.5 37.1522 5.36071 44.3288 13.0934 49.4839C20.8295 54.6413 31.4881 57.815 43.2363 57.815Z"
					fill="#912338"
					stroke="white"
				/>
				<path
					fill-rule="evenodd"
					clip-rule="evenodd"
					d="M63.1448 16.8022H69.1107C71.2613 16.8022 75.5623 18.311 74.5564 22.2338L67.862 41.5464H60.6127L63.2488 33.9019H59.3987L56.381 41.5464H49.4438L57.7337 19.7192C58.7743 17.3051 62.1735 16.8022 63.1448 16.8022ZM65.5034 27.5984H61.8267L63.2488 23.7426C64.1853 21.8315 67.4805 22.6027 66.9602 23.7426L65.5034 27.5984Z"
					fill="white"
				/>
				<path
					d="M52.9817 23.2062L55.4445 16.7686L41.2926 16.8357C39.0727 16.8357 38.2055 17.1375 37.4077 18.9815L30.8868 35.8465C29.6728 39.6688 31.5458 41.58 33.8004 41.58H46.2527L51.5596 27.8332H44.1368L42.125 32.896H44.6224C44.9346 32.896 45.0387 33.1307 44.9693 33.2984L44.1021 35.3436C43.9287 35.6454 43.8246 35.746 43.4778 35.746H40.0092C39.5929 35.746 38.8299 35.2766 39.1767 34.1701L42.9922 24.2456C43.1656 23.7426 43.9287 23.2732 44.7958 23.2732L52.9817 23.2062Z"
					fill="white"
				/>
				<path
					d="M32.5867 23.1726L35.0494 16.7351L20.8975 16.8022C18.6776 16.8022 17.8105 17.1039 17.0127 18.948L10.4917 35.813C9.27773 39.6353 11.1508 41.5464 13.4054 41.5464H25.8576L28.1784 35.2095H19.1976C18.7467 35.2095 18.2264 34.8407 18.4132 34.3377L22.5971 24.212C22.7706 23.7091 23.5337 23.2397 24.4008 23.2397L32.5867 23.1726Z"
					fill="white"
				/>
			</svg>
		</a>
		<div class="nav">
			<a href="/signup">
				<p>Sign Up</p>
			</a>
			<a href="/login">
				<p>Login</p>
			</a>
			<a href="/aisles">
				<p>Aisles</p>
			</a>
			<a href="/cart">
				<svg class="cart-icon" viewBox="0 0 39 28" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path
						d="M20.3624 15.4C21.412 15.4 22.3357 14.826 22.8115 13.958L27.8217 4.872C28.3395 3.948 27.6677 2.8 26.6041 2.8H5.89181L4.5763 0H0V2.8H2.79896L7.83709 13.426L5.94779 16.842C4.92617 18.718 6.26967 21 8.39688 21H25.1906V18.2H8.39688L9.93631 15.4H20.3624ZM7.22132 5.6H24.225L20.3624 12.6H10.5381L7.22132 5.6ZM8.39688 22.4C6.85745 22.4 5.61192 23.66 5.61192 25.2C5.61192 26.74 6.85745 28 8.39688 28C9.93631 28 11.1958 26.74 11.1958 25.2C11.1958 23.66 9.93631 22.4 8.39688 22.4ZM22.3917 22.4C20.8523 22.4 19.6067 23.66 19.6067 25.2C19.6067 26.74 20.8523 28 22.3917 28C23.9311 28 25.1906 26.74 25.1906 25.2C25.1906 23.66 23.9311 22.4 22.3917 22.4Z"
						fill="white"
					/>
					<circle cx="30" cy="16" r="8.5" fill="#912338" stroke="white" />
					<text x={28 - totalQuantity.toString().length*2} y={"21"} fill="white" style={`font-size: ${0.8-totalQuantity.toString().length/10}rem;`}>{totalQuantity}</text>
				</svg>
			</a>
		</div>
	</div>
</div>

<style lang="scss">

</style>
